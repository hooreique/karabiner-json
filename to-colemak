#!/usr/bin/swift

import Carbon

for s in TISCreateInputSourceList(nil, false)?.takeRetainedValue() as! [TISInputSource] {
  if let n = TISGetInputSourceProperty(s, kTISPropertyInputSourceID) {
    if Unmanaged<CFString>.fromOpaque(n).takeUnretainedValue() as String == "com.apple.keylayout.Colemak" {
      TISSelectInputSource(s)
      break
    }
  }
}
